{% extends 'base.html' %}

{% block title %}
    USTC 匿名讨论板
{% endblock %}

{% block css %}

{% endblock %}

{% block content %}
    {% for message in get_flashed_messages() %}
        <div class="form-group">
            {% if message == "已发布一条匿名帖！" %}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    <span class="alert-inner--icon"><i class="fas fa-check"></i></span>
                    <span class="alert-inner--text"><strong>成功！</strong> {{ message }}</span>
                    <button type="button" class="undo" aria-label="Undo">关闭</button>
                    <button type="button" class="close" data-dismiss="alert"
                            aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endif %}
        </div>
    {% endfor %}
    <div>
        <ul class="list-group">
            <li class="list-group-item">
                    <div class="align-items-center">
                        <span class="avatar avatar-sm mr-2" style="background-color: #{{ avatar_2_list[2] }}">
                            <i class="fa-solid fa-{{ avatar_1_list[21] }}" style="font-size: 24px; color: #{{ avatar_3_list[12] }}">
                            </i>
                        </span>
                        <a class="text-primary" href="/author/1">[开发者]Adydio</a>
                    </div>
                    <div class="list-group-content">
                        <div class="list-group-heading">
                            <a class="h5 text-primary ml-5"
                               href="{{ url_for('qa.question_detail',question_id=6) }}"> 官方树洞[置顶]</a>
                            <small>发布于 2022-07-13 21:29:54</small>
                        </div>
                        <div class="row" style="padding-top: 10px">
                            <div class="col"></div>
                            <div class="col-11">
                                <div class="col-10">
                                <p>新人，你好！这是一个不起眼的程序设计作业的项目。如果你成功注册账号看到了这里，作为网页开发者的我将感到万分欣慰！希望你能在这里说出你想说的话（因为是匿名的，想说啥都可以！）</p>
                                </div>
                            </div>
                            <div class="col"></div>
                        </div>
                    </div>
                    <ul class="nav justify-content-end">
                        <li class="nav-item">
                            <div class="btn-group btn-action-label" role="group"
                                 aria-label="comment">
                                <span class="btn btn-sm btn-outline-primary btn-label">-</span>
                                <a type="button" class="btn btn-sm btn-primary btn-action-label"
                                   href="{{ url_for('qa.question_detail',question_id=6) }}">
                                    <p class="text-white">
                                        <i class="fas fa-code-branch"></i> 跟帖
                                    </p>
                                </a>
                            </div>
                        </li>
                        <li class="nav-item">
                        </li>
                    </ul>
                </li>
            {% for question in questions %}
            {% if question.id != 6 %}
                <li class="list-group-item">
                    <div class="align-items-center">
                        <span class="avatar avatar-sm mr-2" style="background-color: #{{ avatar_2_list[question.author.anonymous_avatar_2] }}">
                            <i class="fa-solid fa-{{ avatar_1_list[question.author.anonymous_avatar_1] }}" style="font-size: 24px; color: #{{ avatar_3_list[question.author.anonymous_avatar_3] }}">
                            </i>
                        </span>
                        <h>[匿名]{{ question.author.nickname }}</h>
                    </div>
                    <div class="list-group-content">
                        <div class="list-group-heading">
                            <a class="h5 text-primary ml-5"
                               href="{{ url_for('qa.question_detail',question_id=question.id) }}">{{ question.title }}</a>
                            <small>发布于 {{ question.create_time }}</small>
                        </div>
                        <div class="row" style="padding-top: 10px">
                            <div class="col"></div>
                            <div class="col-11">
                                <div class="col-10">
                                <p>{{ question.content }}</p>
                                </div>
                            </div>
                            <div class="col"></div>
                        </div>
                    </div>
                    <ul class="nav justify-content-end">
                        <li class="nav-item">
                            <div class="btn-group btn-action-label" role="group"
                                 aria-label="comment">
                                <span class="btn btn-sm btn-outline-primary btn-label">{{ question.answers|length }}</span>
                                <a type="button" class="btn btn-sm btn-primary btn-action-label"
                                   href="{{ url_for('qa.question_detail',question_id=question.id) }}">
                                    <p class="text-white">
                                        <i class="fas fa-code-branch"></i> 跟帖
                                    </p>
                                </a>
                            </div>
                        </li>
                        <li class="nav-item">
                        </li>
                    </ul>
                </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
{% endblock %}